import { VersionEightParser } from './field_parsers/version_eight/parser';
import { VersionFiveParser } from './field_parsers/version_five/parser';
import { VersionFourParser } from './field_parsers/version_four/parser';
import { VersionNineParser } from './field_parsers/version_nine/parser';
import { VersionOneParser } from './field_parsers/version_one/parser';
import { VersionSevenParser } from './field_parsers/version_seven/parser';
import { VersionSixParser } from './field_parsers/version_six/parser';
import { VersionThreeParser } from './field_parsers/version_three/parser';
import { VersionTwoParser } from './field_parsers/version_two/parser';
export const Parser = (raw) => {
    const version = getVersion(raw);
    const parser = getParser(version);
    const license = parser.parse(raw);
    return { license, version, raw };
};
const getParser = (version) => {
    switch (version) {
        case '01':
            return new VersionOneParser();
        case '02':
            return new VersionTwoParser();
        case '03':
            return new VersionThreeParser();
        case '04':
            return new VersionFourParser();
        case '05':
            return new VersionFiveParser();
        case '06':
            return new VersionSixParser();
        case '07':
            return new VersionSevenParser();
        case '08':
            return new VersionEightParser();
        case '09':
            return new VersionNineParser();
        default:
            return new VersionOneParser();
    }
};
export const getVersion = (data) => {
    const regex = /\d{6}(\d{2})\w+/g;
    const matches = regex.exec(data);
    if (matches && matches?.length > 1) {
        return matches[1];
    }
    return '01';
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBRXRFLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUNwQixHQUFXLEVBQ3lDLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQ25DLENBQUMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLENBQUMsT0FBc0IsRUFBRSxFQUFFO0lBQzNDLFFBQVEsT0FBTyxFQUFFO1FBQ2YsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDaEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDaEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDbEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGlCQUFpQixFQUFFLENBQUM7UUFDakMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGlCQUFpQixFQUFFLENBQUM7UUFDakMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDaEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDbEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDbEMsS0FBSyxJQUFJO1lBQ1AsT0FBTyxJQUFJLGlCQUFpQixFQUFFLENBQUM7UUFDakM7WUFDRSxPQUFPLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQVksRUFBRSxFQUFFO0lBQ3pDLE1BQU0sS0FBSyxHQUFHLGtCQUFrQixDQUFDO0lBQ2pDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDbEMsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQyJ9